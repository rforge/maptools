<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create and write a KML file on the basis of a given Polygons object — kmlPolygon • maptools</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create and write a KML file on the basis of a given Polygons object — kmlPolygon" />

<meta property="og:description" content="The function is used to create and write a KML file on the basis of a given Polygons object (a list of Polygon objects) for the usage in Google Earth resp. Google Maps." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">maptools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create and write a KML file on the basis of a given Polygons object</h1>
    
    <div class="hidden name"><code>kmlPolygon.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The function is used to create and write a KML file on the basis of a given Polygons object (a list of Polygon objects) for the usage in Google Earth resp. Google Maps.</p>
    
    </div>

    <pre class="usage"><span class='fu'>kmlPolygon</span>(<span class='kw'>obj</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>kmlfile</span><span class='kw'>=</span><span class='kw'>NULL</span>,
    <span class='kw'>name</span><span class='kw'>=</span><span class='st'>"R Polygon"</span>, <span class='kw'>description</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>visibility</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>border</span><span class='kw'>=</span><span class='fl'>1</span>,
    <span class='kw'>kmlname</span><span class='kw'>=</span><span class='st'>""</span>, <span class='kw'>kmldescription</span><span class='kw'>=</span><span class='st'>""</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>a <code>Polygons</code> or <code>SpatialPolygonsDataFrame</code> object</p></td>
    </tr>
    <tr>
      <th>kmlfile</th>
      <td><p>if not <code>NULL</code> the name as character string of the kml file to be written</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>the name of the KML polygon</p></td>
    </tr>
    <tr>
      <th>description</th>
      <td><p>the description of the KML polygon (HTML tags allowed)</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>the fill color (see also Color Specification) of the KML polygon</p></td>
    </tr>
    <tr>
      <th>visibility</th>
      <td><p>if set to <code>1</code> or <code>TRUE</code> specifies that the KML polygon should be visible after loading</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>the stroke width for the KML polygon</p></td>
    </tr>
    <tr>
      <th>border</th>
      <td><p>the stroke color (see also Color Specification) for the KML polygon</p></td>
    </tr>
    <tr>
      <th>kmlname</th>
      <td><p>the name of the KML layer</p></td>
    </tr>
    <tr>
      <th>kmldescription</th>
      <td><p>the description of the KML layer (HTML tags allowed)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function is used to convert a given <code>Polygons</code> object (a list of Polygon objects) or the first <code>Polygons</code> object listed in a passed <code>SpatialPolygonsDataFrame</code> object into KML polygon. If <code>kmlfile</code> is not <code>NULL</code> the result will be written into that file. If <code>kmlfile</code> is <code>NULL</code> the generated KML lines will be returned (see also value).</p>
<p>The conversion can also handle polygons which are marked as holes inside of the Polygons object if these holes are listed right after that polygon in which these holes appear. That implies that a given plot order set in the Polygons object will <b>not</b> be considered.</p>
<p>For a passed <code>Polygons</code> object the function generates a &lt;Style&gt; tag whereby its id attribute is set to the passed object's ID.</p>
<p>Note that the geometries should be in geographical coordinates with datum WGS84.</p>
<p>The resulting KML polygon will be embedded in <code>&lt;Placemark&gt;&lt;MultiGeometry&gt;&lt;Polygon&gt;</code>.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>x is a list with the elements <code>style</code> and <code>content</code> containing the generated lines of the KML file as character vectors if <code>kmlfile</code> is <code>NULL</code>.</p>
<p>y is a list with the elements <code>header</code> and <code>footer</code> representing the KML file' header resp. footer if <code>obj</code> is <code>NULL</code> (see second example).</p>
    
    <h2 class="hasAnchor" id="color-specification"><a class="anchor" href="#color-specification"></a>Color Specification</h2>

    <p>The following color specifications are allowed: <code>'red'</code>, <code>2</code>, or as hex code <code>'#RRGGBB'</code> resp. <code>'#RRGGBBAA'</code> for passing the alpha value.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='kmlOverlay.html'>kmlOverlay</a></code>, <code><a href='kmlLine.html'>kmlLine</a></code>, <code><a href='https://www.rdocumentation.org/packages/sp/topics/SpatialPolygons'>SpatialPolygons</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>wrld_simpl</span>)
<span class='co'>## creates a KML file containing the polygons of South Africa (plus hole)</span>
<span class='no'>sw</span> <span class='kw'>&lt;-</span> <span class='fu'>slot</span>(<span class='no'>wrld_simpl</span>[<span class='no'>wrld_simpl</span>$<span class='no'>NAME</span><span class='kw'>==</span><span class='st'>"South Africa"</span>,], <span class='st'>"polygons"</span>)<span class='kw'>[[</span><span class='fl'>1</span>]]
<span class='no'>tf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempfile</a></span>()
<span class='fu'>kmlPolygon</span>(<span class='no'>sw</span>, <span class='kw'>kmlfile</span><span class='kw'>=</span><span class='no'>tf</span>, <span class='kw'>name</span><span class='kw'>=</span><span class='st'>"South Africa"</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"#df0000aa"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>5</span>,
    <span class='kw'>border</span><span class='kw'>=</span><span class='fl'>4</span>, <span class='kw'>kmlname</span><span class='kw'>=</span><span class='st'>"R Test"</span>,
    <span class='kw'>kmldescription</span><span class='kw'>=</span><span class='st'>"This is &lt;b&gt;only&lt;/b&gt; a &lt;a href='http://www.r-project.org'&gt;R&lt;/a&gt; test."</span>)
<span class='no'>tf</span></div><div class='output co'>#&gt; [1] "/tmp/RtmpnBUupp/file37e547b73e34"</div><div class='input'>
<span class='co'>## creates a KML file containing the polygons of South Africa, Switzerland, and Canada</span>
<span class='no'>sw</span>  <span class='kw'>&lt;-</span> <span class='no'>wrld_simpl</span>[<span class='no'>wrld_simpl</span>$<span class='no'>NAME</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"South Africa"</span>, <span class='st'>"Switzerland"</span>, <span class='st'>"Canada"</span>),]
<span class='no'>out</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>sapply</a></span>(<span class='fu'>slot</span>(<span class='no'>sw</span>, <span class='st'>"polygons"</span>), <span class='kw'>function</span>(<span class='no'>x</span>) { <span class='fu'>kmlPolygon</span>(<span class='no'>x</span>,
    <span class='kw'>name</span><span class='kw'>=</span><span class='fu'>as</span>(<span class='no'>sw</span>, <span class='st'>"data.frame"</span>)[<span class='fu'>slot</span>(<span class='no'>x</span>, <span class='st'>"ID"</span>), <span class='st'>"NAME"</span>],
    <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"red"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1.5</span>, <span class='kw'>border</span><span class='kw'>=</span><span class='st'>'black'</span>,
    <span class='kw'>description</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste</a></span>(<span class='st'>"ISO3:"</span>, <span class='fu'>slot</span>(<span class='no'>x</span>, <span class='st'>"ID"</span>))) })
<span class='no'>tf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempfile</a></span>()
<span class='no'>kmlFile</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/connections'>file</a></span>(<span class='no'>tf</span>, <span class='st'>"w"</span>)
<span class='no'>tf</span></div><div class='output co'>#&gt; [1] "/tmp/RtmpnBUupp/file37e52f61aa51"</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='fu'>kmlPolygon</span>(<span class='kw'>kmlname</span><span class='kw'>=</span><span class='st'>"R Test"</span>, <span class='kw'>kmldescription</span><span class='kw'>=</span><span class='st'>"&lt;i&gt;Hello&lt;/i&gt;"</span>)$<span class='no'>header</span>,
    <span class='kw'>file</span><span class='kw'>=</span><span class='no'>kmlFile</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\n"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/unlist'>unlist</a></span>(<span class='no'>out</span>[<span class='st'>"style"</span>,]), <span class='kw'>file</span><span class='kw'>=</span><span class='no'>kmlFile</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\n"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/unlist'>unlist</a></span>(<span class='no'>out</span>[<span class='st'>"content"</span>,]), <span class='kw'>file</span><span class='kw'>=</span><span class='no'>kmlFile</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\n"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='fu'>kmlPolygon</span>()$<span class='no'>footer</span>, <span class='kw'>file</span><span class='kw'>=</span><span class='no'>kmlFile</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"\n"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/connections'>close</a></span>(<span class='no'>kmlFile</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#color-specification">Color Specification</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Hans-J. Bibiko</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Roger Bivand, Nicholas Lewin-Koh.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

